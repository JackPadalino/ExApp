{% extends 'main/base.html' %}
{% block content %}
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <div class='page-title'>
        <h1>All EXAP Projects</h1>
    </div>
{% if user.is_authenticated %}
    <div class="container" data-masonry='{ "itemSelector": ".project-card"}'>
        {% for project in projects %}
            <div class="card project-card" style="width: 19rem;">
                <!--<img src="..." class="card-img-top" alt="...">-->
                <div class='project-card-image'>
                    {% if project.photo %}
                        <image style='height:100%;width:100%;' src="{{ project.photo.url }}">
                    {% endif %}
                </div>
                <div class="card-body project-card-body">
                    <h5><a class="article-title" href="{% url 'project-details' project.pk %}">{{ project.title }}</a></h5>
                    <h8 class="card-title project-card-student">{{ project.student.first_name }} {{ project.student.last_name }}</h8>
                    <div class='project-card-blurb'>
                        <p class="card-text project-card-text">{{ project.blurb }}</p>
                    </div>
                    <br>
                    <small><b>{{ project.liked.all.count }}</b> votes <b>{{ project.comments.all.count }}</b> comments</small>
                </div>     
            </div>
        {% endfor %}
    </div>
{% endblock %}